import{D as C}from"./DashboardLayout-4a765d9c.js";import{_ as D,i as M,Z as S,T as I,r as g,h as b,o as l,d as i,b as u,a as e,f as j,F as p,g as k,w as n,t as c,k as A,v as N,e as m,l as V,j as L}from"./app-f44106c5.js";import{_ as O}from"./ConfirmationModal-05001c0d.js";import{_ as T}from"./DialogModal-40c72fcb.js";import"./Modal-1fe5e954.js";const B={components:{DashboardLaout:C,Link:M,Head:S,ConfirmationModal:O,DialogModal:T},props:{categories:Object,errors:Object,award_categories:Object,awards:Object},layout:C,setup(){const a=I({name:"",award_id:""}),r=g(!1),s=g(!1),t=g(!1),h=d=>{a.name=d.name,a.award_id=d.award_id,a.id=d.id,console.log("cat",a.id),r.value=!0,s.value=!0},_=()=>{console.log(a),a.put(route("categories.update",a.id),{onSuccess:()=>{a.reset(),s.value=!1,r.value=!1}})};return{confirm:()=>window.confirm("Are you sure you want to delete this category?"),category:a,submit:()=>{if(s.value){_();return}a.post(route("categories.store"),{onSuccess:()=>{a.reset(),s.value=!1,r.value=!1}})},showArtistModal:r,editting:s,editArtist:h,updateArtist:_,artistCreate:()=>{a.name="",a.award_id="",a.id="",r.value=!0,s.value=!1},deleteItem:()=>{a.delete(route("categories.destroy",a),{onSuccess:()=>{a.reset(),s.value=!1,t.value=!1}})},showDeleteItem:(d=!1,y=null)=>{if(d){a.name=y.name,a.award_id=y.award_id,a.id=y.id,t.value=d;return}t.value=d},deleteDialog:t}}},E={class:"max-w-7xl mx-auto px-2"},H={class:"flex justify-between gap-4 mb-4 place-items-center"},U=e("h2",null,"CATEGORIES",-1),F=e("i",{class:"fa-solid fa-plus"},null,-1),G=e("span",null,"Add A Category",-1),R={class:"shadow rounded bg-white p-2"},Z={class:"w-full"},q=e("thead",null,[e("tr",null,[e("th",{class:"border-b border-gray-200 px-2 py-1"}),e("th",{class:"border-b border-gray-200 px-2 py-1 text-left"},"Name"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-left"},"Artist"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-left"},"Award"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-right"},"Action")])],-1),z={class:"text-gray-500"},J=e("td",{class:"border-b border-gray-200 px-2 py-1"},[e("i",{class:"fa-solid fa-user"})],-1),K={class:"border-b border-gray-200 px-2 py-1 text-left"},P={class:"border-b border-gray-200 px-2 py-1 text-left"},Q={class:"border-b border-gray-200 px-2 py-1 text-left"},W={class:"border-b border-gray-200 px-2 py-1 text-right"},X=["onClick"],Y=e("i",{class:"fa-solid fa-edit"},null,-1),$=[Y],ee=["onClick"],te=e("i",{class:"fa-solid fa-trash-can"},null,-1),oe=[te],re=e("h4",null,"Add an category",-1),ae={class:"form-group"},se=e("label",{for:"name"},"Name",-1),de={key:0,class:"text-red-500"},le={class:"form-group"},ie=e("label",{for:"award_id"},"Award Category",-1),ne=e("option",{value:"",disabled:""},"Select Award",-1),ce=["value"],be={key:0,class:"text-red-500"},ue=e("h4",null,"Delete Category",-1),me=e("p",null,"Are you sure you want to delete this category?",-1);function _e(a,r,s,t,h,_){const f=b("Head"),w=b("DialogModal"),x=b("ConfirmationModal"),v=b("Loader");return l(),i(p,null,[u(f,{title:"categories"}),e("div",E,[e("div",H,[U,e("button",{onClick:r[0]||(r[0]=(...o)=>t.artistCreate&&t.artistCreate(...o)),class:"rounded bg-primary-500 text-white hover:bg-primary-600 transition border border-primary-500 px-4 py-2"},[F,j(),G])]),e("div",R,[e("table",Z,[q,e("tbody",z,[(l(!0),i(p,null,k(s.categories.data,o=>(l(),i("tr",{key:o.id,class:"hover:bg-gray-50 transition"},[J,e("td",K,c(o.name),1),e("td",P,c(o.artist),1),e("td",Q,c(o.award.name),1),e("td",W,[e("button",{onClick:d=>t.editArtist(o),class:"p-2 text-sky-500"},$,8,X),e("button",{onClick:d=>t.showDeleteItem(!0,o),class:"p-2 text-red-500"},oe,8,ee)])]))),128))])])])]),u(w,{show:t.showArtistModal,closeable:!0},{title:n(()=>[re]),content:n(()=>[e("form",{onSubmit:r[3]||(r[3]=L((...o)=>t.submit&&t.submit(...o),["prevent"])),action:"#",method:"post",class:"grid md:grid-cols-2 gap-4 bg-white rounded-md p-4"},[e("div",ae,[se,A(e("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=o=>t.category.name=o),class:"block border border-primary-400 rounded placeholder-gray-400 w-full",placeholder:"Category 1"},null,512),[[N,t.category.name]]),s.errors.name?(l(),i("span",de,c(s.errors.name),1)):m("",!0)]),e("div",le,[ie,A(e("select",{name:"award_id","onUpdate:modelValue":r[2]||(r[2]=o=>t.category.award_id=o),id:"award_id",class:"block border border-primary-400 rounded placeholder-gray-400 w-full"},[ne,(l(!0),i(p,null,k(s.awards,o=>(l(),i("option",{key:o.id,value:o.id},c(o.name),9,ce))),128))],512),[[V,t.category.award_id]]),s.errors.award_id?(l(),i("span",be,c(s.errors.award_id),1)):m("",!0)])],32)]),footer:n(()=>[e("button",{onClick:r[4]||(r[4]=o=>t.showArtistModal=!1),class:"text-gray-500 hover:bg-primary-100 px-4 rounded transition"},"Cancel"),t.editting?m("",!0):(l(),i("button",{key:0,onClick:r[5]||(r[5]=(...o)=>t.submit&&t.submit(...o)),class:"border border-primary-400 rounded placeholder-gray-400 bg-primary-500 text-white px-4 py-2 shadow-md hover:bg-primary-600 transition"},"Submit")),t.editting?(l(),i("button",{key:1,onClick:r[6]||(r[6]=(...o)=>t.updateArtist&&t.updateArtist(...o)),class:"border border-primary-400 rounded placeholder-gray-400 bg-primary-500 text-white px-4 py-2 shadow-md hover:bg-primary-600 transition"},"Update")):m("",!0)]),_:1},8,["show"]),u(x,{show:t.deleteDialog,closeable:!0},{title:n(()=>[ue]),content:n(()=>[me]),footer:n(()=>[e("button",{onClick:r[7]||(r[7]=o=>t.deleteDialog=!1),class:"text-gray-500 hover:bg-primary-100 px-4 rounded transition"},"Cancel"),e("button",{onClick:r[8]||(r[8]=(...o)=>t.deleteItem&&t.deleteItem(...o)),class:"border border-primary-400 rounded placeholder-gray-400 bg-primary-500 text-white px-4 py-2 shadow-md hover:bg-primary-600 transition"},"Delete")]),_:1},8,["show"]),u(v,{loader:t.category.processing},null,8,["loader"])],64)}const we=D(B,[["render",_e]]);export{we as default};

import{D}from"./DashboardLayout-c8f0a89f.js";import{_ as I,i as V,Z as N,r as g,T as R,h as i,o as n,d as l,b as c,a as e,f as j,F as v,g as A,w as _,t as m,k as S,v as L,e as p,l as P,j as T}from"./app-344ef1ac.js";import{_ as B}from"./ConfirmationModal-b3d583c4.js";import{_ as H}from"./DialogModal-b6176aed.js";import{S as O}from"./Search-4c0a7182.js";import{P as U}from"./Paginate-25442679.js";import"./Modal-a4df5b48.js";const F={components:{DashboardLaout:D,Link:V,Head:N,ConfirmationModal:B,DialogModal:H,Search:O,Paginate:U},props:{artists:Object,errors:Object,award_categories:Object,uri:String},layout:D,setup(){const y=g(null),a=g(!1),o=R({name:"",awards_category_id:""}),t=g(!1),s=g(!1),u=g(!1),f=(d,b,M)=>{o.name=d,o.awards_category_id=b,o.id=M,t.value=!0,s.value=!0},x=()=>{o.name="",o.awards_category_id="",o.id="",t.value=!0,s.value=!1},w=()=>{if(s.value){h();return}o.post(route("artists.store"),{onSuccess:()=>{o.reset(),s.value=!1,t.value=!1}})},h=()=>{o.put(route("artists.update",o),{onSuccess:()=>{o.reset(),s.value=!1,t.value=!1}})};return{confirm,artist:o,submit:w,showArtistModal:t,editting:s,editArtist:f,updateArtist:h,artistCreate:x,deleteItem:()=>{o.delete(route("artists.destroy",o),{onSuccess:()=>{o.reset(),s.value=!1,u.value=!1}})},showDeleteItem:(d=!1,b=null)=>{if(d){o.name=b.name,o.awards_category_id=b.awards_category_id,o.id=b.id,u.value=d;return}u.value=d},deleteDialog:u,editting:s,searchResponse:d=>{y.value=d,console.log(y.value),a.value=!0},searchData:y,searcing:a}}},E={class:"max-w-7xl mx-auto px-2"},J={class:"md:flex justify-between gap-4 mb-4 place-items-center"},Z=e("h2",null,"ARTISTS",-1),q={class:"flex gap-2"},z=e("i",{class:"fa-solid fa-plus"},null,-1),G=e("span",null,"Add Artist",-1),K={class:"shadow rounded bg-white p-2 overflow-x-auto"},Q={class:"w-full"},W=e("thead",null,[e("tr",null,[e("th",{class:"border-b border-gray-200 px-2 py-1"}),e("th",{class:"border-b border-gray-200 px-2 py-1 text-left"},"Name"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-left"},"Award Category"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-left"},"Votes"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-right"},"Action")])],-1),X={class:"text-gray-500"},Y=e("td",{class:"border-b border-gray-200 px-2 py-1"},[e("i",{class:"fa-solid fa-user"})],-1),$={class:"border-b border-gray-200 px-2 py-1 text-left"},ee={class:"border-b border-gray-200 px-2 py-1 text-left"},te={class:"border-b border-gray-200 px-2 py-1 text-left"},re={class:"border-b border-gray-200 px-2 py-1 text-right"},oe=["onClick"],ae=e("i",{class:"fa-solid fa-edit"},null,-1),se=[ae],de=["onClick"],ne=e("i",{class:"fa-solid fa-trash-can"},null,-1),le=[ne],ie=e("h4",null,"Add an artist",-1),ce={class:"form-group"},_e=e("label",{for:"name"},"Name",-1),me={key:0,class:"text-red-500"},ue={class:"form-group"},be=e("label",{for:"awards_category_id"},"Award Category",-1),ge=["value"],ye={key:0,class:"text-red-500"},he=e("h4",null,"Delete Artist",-1),pe=e("p",null,"Are you sure you want to delete this artist?",-1);function fe(y,a,o,t,s,u){const f=i("Head"),x=i("Search"),w=i("Paginate"),h=i("DialogModal"),k=i("ConfirmationModal"),C=i("Loader");return n(),l(v,null,[c(f,{title:"artists"}),e("div",E,[e("div",J,[Z,e("div",q,[c(x,{uri:o.uri,onRes:a[0]||(a[0]=r=>t.searchResponse(r)),class:"flex"},null,8,["uri"]),e("button",{onClick:a[1]||(a[1]=(...r)=>t.artistCreate&&t.artistCreate(...r)),class:"rounded bg-primary-500 text-white hover:bg-primary-600 transition border border-primary-500 px-2 md:px-4 py-2"},[z,j(),G])])]),e("div",K,[e("table",Q,[W,e("tbody",X,[(n(!0),l(v,null,A(t.searcing?t.searchData.data:o.artists.data,r=>(n(),l("tr",{key:r.id,class:"hover:bg-gray-50 transition"},[Y,e("td",$,m(r.name),1),e("td",ee,m(r.awards_category.name),1),e("td",te,m(r.votes_count),1),e("td",re,[e("button",{onClick:d=>t.editArtist(r.name,r.awards_category.id,r.id),class:"p-2 text-sky-500"},se,8,oe),e("button",{onClick:d=>t.showDeleteItem(!0,r),class:"p-2 text-red-500"},le,8,de)])]))),128))])]),c(w,{data:t.searcing?t.searchData:o.artists,onSearch:a[2]||(a[2]=r=>t.searchResponse(r))},null,8,["data"])])]),c(h,{show:t.showArtistModal,closeable:!0},{title:_(()=>[ie]),content:_(()=>[e("form",{onSubmit:a[5]||(a[5]=T((...r)=>t.submit&&t.submit(...r),["prevent"])),action:"#",method:"post",class:"grid md:grid-cols-2 gap-4 bg-white rounded-md p-4"},[e("div",ce,[_e,S(e("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=r=>t.artist.name=r),class:"block border border-primary-400 rounded placeholder-gray-400 w-full",placeholder:"James Phiri"},null,512),[[L,t.artist.name]]),o.errors.name?(n(),l("span",me,m(o.errors.name),1)):p("",!0)]),e("div",ue,[be,S(e("select",{name:"awards_category_id","onUpdate:modelValue":a[4]||(a[4]=r=>t.artist.awards_category_id=r),id:"awards_category_id",class:"block border border-primary-400 rounded placeholder-gray-400 w-full"},[(n(!0),l(v,null,A(o.award_categories,r=>(n(),l("option",{key:r.id,value:r.id},m(r.name),9,ge))),128))],512),[[P,t.artist.awards_category_id]]),o.errors.awards_category_id?(n(),l("span",ye,m(o.errors.awards_category_id),1)):p("",!0)])],32)]),footer:_(()=>[e("button",{onClick:a[6]||(a[6]=r=>t.showArtistModal=!1),class:"text-gray-500 hover:bg-primary-100 px-4 rounded transition"},"Cancel"),t.editting?p("",!0):(n(),l("button",{key:0,onClick:a[7]||(a[7]=(...r)=>t.submit&&t.submit(...r)),class:"border border-primary-400 rounded placeholder-gray-400 bg-primary-500 text-white px-4 py-2 shadow-md hover:bg-primary-600 transition"},"Submit")),t.editting?(n(),l("button",{key:1,onClick:a[8]||(a[8]=(...r)=>t.updateArtist&&t.updateArtist(...r)),class:"border border-primary-400 rounded placeholder-gray-400 bg-primary-500 text-white px-4 py-2 shadow-md hover:bg-primary-600 transition"},"Update")):p("",!0)]),_:1},8,["show"]),c(k,{show:t.deleteDialog,closeable:!0},{title:_(()=>[he]),content:_(()=>[pe]),footer:_(()=>[e("button",{onClick:a[9]||(a[9]=r=>t.deleteDialog=!1),class:"text-gray-500 hover:bg-primary-100 px-4 rounded transition"},"Cancel"),e("button",{onClick:a[10]||(a[10]=(...r)=>t.deleteItem&&t.deleteItem(...r)),class:"border border-primary-400 rounded placeholder-gray-400 bg-primary-500 text-white px-4 py-2 shadow-md hover:bg-primary-600 transition"},"Delete")]),_:1},8,["show"]),c(C,{loader:t.artist.processing},null,8,["loader"])],64)}const Se=I(F,[["render",fe]]);export{Se as default};

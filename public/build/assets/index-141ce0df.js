import{D as A}from"./DashboardLayout-4a765d9c.js";import{_ as I,i as V,Z as N,r as u,T as j,h as b,o as d,d as l,b as y,a as e,f as L,F as v,g as D,w as n,t as c,k as S,v as R,e as p,l as T,j as B}from"./app-f44106c5.js";import{_ as H}from"./ConfirmationModal-05001c0d.js";import{_ as O}from"./DialogModal-40c72fcb.js";import{S as U}from"./Search-864197d0.js";import"./Modal-1fe5e954.js";const F={components:{DashboardLaout:A,Link:V,Head:N,ConfirmationModal:H,DialogModal:O,Search:U},props:{artists:Object,errors:Object,award_categories:Object,uri:String},layout:A,setup(){const g=u(null),s=u(!1),o=j({name:"",awards_category_id:""}),t=u(!1),a=u(!1),_=u(!1),f=(i,m,M)=>{o.name=i,o.awards_category_id=m,o.id=M,t.value=!0,a.value=!0},x=()=>{o.name="",o.awards_category_id="",o.id="",t.value=!0,a.value=!1},w=()=>{if(a.value){h();return}o.post(route("artists.store"),{onSuccess:()=>{o.reset(),a.value=!1,t.value=!1}})},h=()=>{o.put(route("artists.update",o),{onSuccess:()=>{o.reset(),a.value=!1,t.value=!1}})};return{confirm,artist:o,submit:w,showArtistModal:t,editting:a,editArtist:f,updateArtist:h,artistCreate:x,deleteItem:()=>{o.delete(route("artists.destroy",o),{onSuccess:()=>{o.reset(),a.value=!1,_.value=!1}})},showDeleteItem:(i=!1,m=null)=>{if(i){o.name=m.name,o.awards_category_id=m.awards_category_id,o.id=m.id,_.value=i;return}_.value=i},deleteDialog:_,editting:a,searchResponse:i=>{g.value=i,console.log(g.value),s.value=!0},searchData:g,searcing:s}}},E={class:"max-w-7xl mx-auto px-2"},J={class:"md:flex justify-between gap-4 mb-4 place-items-center"},P=e("h2",null,"ARTISTS",-1),Z={class:"flex gap-2"},q=e("i",{class:"fa-solid fa-plus"},null,-1),z=e("span",null,"Add Artist",-1),G={class:"shadow rounded bg-white p-2"},K={class:"w-full"},Q=e("thead",null,[e("tr",null,[e("th",{class:"border-b border-gray-200 px-2 py-1"}),e("th",{class:"border-b border-gray-200 px-2 py-1 text-left"},"Name"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-left"},"Award Category"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-left"},"Votes"),e("th",{class:"border-b border-gray-200 px-2 py-1 text-right"},"Action")])],-1),W={class:"text-gray-500"},X=e("td",{class:"border-b border-gray-200 px-2 py-1"},[e("i",{class:"fa-solid fa-user"})],-1),Y={class:"border-b border-gray-200 px-2 py-1 text-left"},$={class:"border-b border-gray-200 px-2 py-1 text-left"},ee={class:"border-b border-gray-200 px-2 py-1 text-left"},te={class:"border-b border-gray-200 px-2 py-1 text-right"},re=["onClick"],oe=e("i",{class:"fa-solid fa-edit"},null,-1),se=[oe],ae=["onClick"],de=e("i",{class:"fa-solid fa-trash-can"},null,-1),le=[de],ie=e("h4",null,"Add an artist",-1),ne={class:"form-group"},ce=e("label",{for:"name"},"Name",-1),_e={key:0,class:"text-red-500"},me={class:"form-group"},ue=e("label",{for:"awards_category_id"},"Award Category",-1),be=["value"],ye={key:0,class:"text-red-500"},ge=e("h4",null,"Delete Artist",-1),he=e("p",null,"Are you sure you want to delete this artist?",-1);function pe(g,s,o,t,a,_){const f=b("Head"),x=b("Search"),w=b("DialogModal"),h=b("ConfirmationModal"),k=b("Loader");return d(),l(v,null,[y(f,{title:"artists"}),e("div",E,[e("div",J,[P,e("div",Z,[y(x,{uri:o.uri,onRes:s[0]||(s[0]=r=>t.searchResponse(r)),class:"flex"},null,8,["uri"]),e("button",{onClick:s[1]||(s[1]=(...r)=>t.artistCreate&&t.artistCreate(...r)),class:"rounded bg-primary-500 text-white hover:bg-primary-600 transition border border-primary-500 px-2 md:px-4 py-2"},[q,L(),z])])]),e("div",G,[e("table",K,[Q,e("tbody",W,[(d(!0),l(v,null,D(t.searcing?t.searchData.data:o.artists.data,r=>(d(),l("tr",{key:r.id,class:"hover:bg-gray-50 transition"},[X,e("td",Y,c(r.name),1),e("td",$,c(r.awards_category.name),1),e("td",ee,c(r.votes_count),1),e("td",te,[e("button",{onClick:C=>t.editArtist(r.name,r.awards_category.id,r.id),class:"p-2 text-sky-500"},se,8,re),e("button",{onClick:C=>t.showDeleteItem(!0,r),class:"p-2 text-red-500"},le,8,ae)])]))),128))])])])]),y(w,{show:t.showArtistModal,closeable:!0},{title:n(()=>[ie]),content:n(()=>[e("form",{onSubmit:s[4]||(s[4]=B((...r)=>t.submit&&t.submit(...r),["prevent"])),action:"#",method:"post",class:"grid md:grid-cols-2 gap-4 bg-white rounded-md p-4"},[e("div",ne,[ce,S(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=r=>t.artist.name=r),class:"block border border-primary-400 rounded placeholder-gray-400 w-full",placeholder:"James Phiri"},null,512),[[R,t.artist.name]]),o.errors.name?(d(),l("span",_e,c(o.errors.name),1)):p("",!0)]),e("div",me,[ue,S(e("select",{name:"awards_category_id","onUpdate:modelValue":s[3]||(s[3]=r=>t.artist.awards_category_id=r),id:"awards_category_id",class:"block border border-primary-400 rounded placeholder-gray-400 w-full"},[(d(!0),l(v,null,D(o.award_categories,r=>(d(),l("option",{key:r.id,value:r.id},c(r.name),9,be))),128))],512),[[T,t.artist.awards_category_id]]),o.errors.awards_category_id?(d(),l("span",ye,c(o.errors.awards_category_id),1)):p("",!0)])],32)]),footer:n(()=>[e("button",{onClick:s[5]||(s[5]=r=>t.showArtistModal=!1),class:"text-gray-500 hover:bg-primary-100 px-4 rounded transition"},"Cancel"),t.editting?p("",!0):(d(),l("button",{key:0,onClick:s[6]||(s[6]=(...r)=>t.submit&&t.submit(...r)),class:"border border-primary-400 rounded placeholder-gray-400 bg-primary-500 text-white px-4 py-2 shadow-md hover:bg-primary-600 transition"},"Submit")),t.editting?(d(),l("button",{key:1,onClick:s[7]||(s[7]=(...r)=>t.updateArtist&&t.updateArtist(...r)),class:"border border-primary-400 rounded placeholder-gray-400 bg-primary-500 text-white px-4 py-2 shadow-md hover:bg-primary-600 transition"},"Update")):p("",!0)]),_:1},8,["show"]),y(h,{show:t.deleteDialog,closeable:!0},{title:n(()=>[ge]),content:n(()=>[he]),footer:n(()=>[e("button",{onClick:s[8]||(s[8]=r=>t.deleteDialog=!1),class:"text-gray-500 hover:bg-primary-100 px-4 rounded transition"},"Cancel"),e("button",{onClick:s[9]||(s[9]=(...r)=>t.deleteItem&&t.deleteItem(...r)),class:"border border-primary-400 rounded placeholder-gray-400 bg-primary-500 text-white px-4 py-2 shadow-md hover:bg-primary-600 transition"},"Delete")]),_:1},8,["show"]),y(k,{loader:t.artist.processing},null,8,["loader"])],64)}const Ae=I(F,[["render",pe]]);export{Ae as default};
